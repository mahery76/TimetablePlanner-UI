"use client";
import "./globals.css";
import Link from "next/link";
import { CiSettings, CiBoxList, CiCalendar } from "react-icons/ci";
import { usePathname } from "next/navigation";
import { MenuProvider } from "@/context/timetableSideMenuContext";
// export const metadata = {
//   title: "Create Next App",
//   description: "Generated by create next app",
// };

const isPathMatched = (currentPath, pathProps) => {
  return currentPath.startsWith(pathProps);
};

const Menu = ({ title, icon, path }) => {
  const pathname = usePathname();

  return (
    <Link
      href={path}
      className={`${
        isPathMatched(pathname, path)
          ? "bg-green-200 border-2 border-green-500 "
          : ""
      }
      flex rounded-md hover:bg-green-200`}
    >
      <div className=" sm:block  p-2  ">{title}</div>
      <div className="hidden text-2xl font-bold  hover:scale-110">{icon}</div>
      <div>{isPathMatched(pathname, path)}</div>
    </Link>
  );
};
export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body className="font-roboto text-sm flex flex-col h-[100vh]">

        {/* header */}
        <div className="h-[10vh] border-b-2 border-neutral-200 w-full flex px-4 md:px-8 items-center justify-center">
          {/* <div className="flex justify-self-start">
            <div className="text-xl text-darkGray font-bold">
              Emplois du temps
            </div>
          </div> */}
          <div className="flex gap-4 justify-center items-center ">
            <Menu
              title="Classes"
              path="/timetable/group"
              icon={<CiCalendar />}
              />
            <Menu
              title="Profs"
              path="/timetable/teacher"
              icon={<CiCalendar />}
            />
            <Menu title="Activités" path="/activities" icon={<CiBoxList />} />
            <Menu title="Paramètres" path="/parameters" icon={<CiSettings />} />
          </div>
        </div>

        {/* main */}
        <MenuProvider>
          <div className="h-[90vh] flex w-full">{children}</div>
        </MenuProvider>
      </body>
    </html>
  );
}

// facebook.com/g
// facebook.com/i
// facebook.com/j
// facebook.com/p
// facebook.com/u
